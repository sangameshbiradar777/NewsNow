<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search resutls | NewsNow</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700;800&family=Roboto+Condensed:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../css/global.css" />
    <link rel="stylesheet" href="../../css/homepage/navbar.css" />
    <link
      rel="stylesheet"
      href="../../css/search-results-page/search-bar.css"
    />
    <link rel="stylesheet" href="../../css/states.css" />
    <link rel="stylesheet" href="../../css/search-results-page/filters.css" />
    <link
      rel="stylesheet"
      href="../../css/search-results-page/language-filter.css"
    />
    <link
      rel="stylesheet"
      href="../../css/search-results-page/search-results-page.css"
    />
    <link
      rel="stylesheet"
      href="../../css/search-results-page/pagination.css"
    />
  </head>

  <body>
    <!-- Navbar starts -->
    <nav class="navbar">
      <h1 class="navbar__logo">
        <a href="/frontend/">NewsNow</a>
      </h1>
      <div class="navbar__datetime">
        <span class="navbar__date"></span>
        <span class="navbar__time"></span>
      </div>
      <div class="navbar__items">
        <form class="navbar__search-container search-form">
          <ion-icon class="icon navbar__search-icon" name="search"></ion-icon>
          <input
            type="text"
            name="search-text"
            autocomplete="off"
            placeholder="Search"
            required
          />
          <ion-icon
            class="navbar__search__clear-icon search__clear-icon hide-clear-icon"
            name="close-outline"
          ></ion-icon>
        </form>
        <div class="navbar__links">
          <button class="btn btn--navbar-link">Categories</button>
          <a
            href="frontend/pages/bookmarks/bookmarks.html"
            class="navbar__bookmarks-link"
          >
            Bookmarks
          </a>
        </div>
      </div>
    </nav>
    <!-- Navbar ends -->

    <header id="search-container" class="search-section">
      <div class="search__items">
        <form action="" class="search__container search-form">
          <ion-icon class="icon search__icon" name="search"></ion-icon>
          <input
            type="text"
            required
            autocomplete="off"
            class="search__input"
            name="search-text"
            placeholder="Search..."
          />
          <ion-icon
            class="icon search__clear-icon"
            name="close-circle"
          ></ion-icon>
        </form>
      </div>
      <h1 class="search__text-heading">
        Showing results for <span class="search__text"></span>
      </h1>
      <span class="search__results-text">
        About <span class="search__results-number"></span> results
      </span>
    </header>

    <main>
      <div class="section section--language-filter">
        <h3 class="language-filter__heading">
          <ion-icon name="language-outline"></ion-icon>
          Language
        </h3>
        <div class="language-filter__body">
          <button class="btn language-filter__selected" id="en">
            <span class="language-filter__selected__text">English</span>
            <ion-icon
              class="language-filter__dropdown-icon"
              name="caret-down-outline"
            ></ion-icon>
          </button>
          <div
            class="language-filter__dropdown language-filter__dropdown--hidden"
          >
            <button
              class="btn language-filter__dropdown__item"
              name="Arabic"
              id="ar"
            >
              Arabic
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="German"
              id="de"
            >
              German
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Spanish"
              id="es"
            >
              Spanish
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="French"
              id="fr"
            >
              French
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item language-filter__dropdown__item--selected"
              name="Engish"
              id="en"
            >
              English
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Hebrew"
              id="he"
            >
              Hebrew
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Italian"
              id="it"
            >
              Italian
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Dutch"
              id="nl"
            >
              Dutch
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Norwegian"
              id="no"
            >
              Norwegian
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Russian"
              id="ru"
            >
              Russian
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Swedish"
              id="sv"
            >
              Swedish
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
            <button
              class="btn language-filter__dropdown__item"
              name="Chinese"
              id="zh"
            >
              Chinese
              <ion-icon
                class="language-filter__selected-icon"
                name="checkbox-outline"
              ></ion-icon>
            </button>
          </div>
        </div>
      </div>

      <section class="section section--search-results">
        <div class="search-content-grid">
          <div class="filters">
            <div class="filters__section filters__section--date">
              <div class="filters__header">
                <h2 class="filter__heading">Search by date</h2>
                <button class="btn filters__btn filters__btn--reset-date">
                  Reset
                </button>
              </div>

              <form action="#" class="filters__body search-by-date-form">
                <label for="filter-from" class="filter filter--date">
                  From
                  <input
                    id="filter-from"
                    class="filter-date-input"
                    required
                    type="date"
                  />
                </label>

                <label for="filter-to" class="filter filter--date">
                  To
                  <input id="filter-to" class="filter-date-input" type="date" />
                </label>

                <button type="submit" class="btn filter__date-btn">Go</button>
              </form>
            </div>

            <div class="filters__section filters__section--sort-by">
              <div class="filters__header">
                <h2 class="filter__heading">Sort by</h2>
                <button class="btn filters__btn filters__btn--reset-sort-by">
                  Reset
                </button>
              </div>

              <div class="filters__body">
                <label for="filter-relevency" class="filter">
                  <input
                    id="filter-relevency"
                    type="radio"
                    name="sort-by"
                    data-sort-by="relevency"
                  />
                  Relevency
                </label>

                <label for="filter-popularity" class="filter">
                  <input
                    id="filter-popularity"
                    type="radio"
                    name="sort-by"
                    data-sort-by="popularity"
                  />
                  Popularity
                </label>

                <label for="filter-publishedat" class="filter">
                  <input
                    id="filter-publishedat"
                    type="radio"
                    name="sort-by"
                    data-sort-by="publishedat"
                  />
                  Newest first
                </label>
              </div>
            </div>

            <div class="filters__section filters__section--sources">
              <div class="filters__header">
                <h2 class="filter__heading filter__heading--sources">
                  Sources <span class="number-of-source-selected">0</span>
                </h2>
                <button class="btn filters__btn filters__btn--reset-sources">
                  Reset
                </button>
              </div>

              <div class="filters__body"></div>
            </div>
          </div>

          <div class="search-results"></div>
        </div>
      </section>
    </main>

    <section class="section section--pagination">
      <div class="pagination">
        <div class="pagination__pages">
          <button
            class="btn pagination__pages__item pagination__pages__prev pagination__pages--disabled"
          >
            <ion-icon
              class="pagination__icon-prev"
              name="chevron-back-outline"
            ></ion-icon>
          </button>
          <ul class="pagination__pages__list"></ul>
          <button class="btn pagination__pages__next pagination__pages__item">
            <ion-icon
              class="pagination__icon-next"
              name="chevron-forward-outline"
            ></ion-icon>
          </button>
        </div>
      </div>
    </section>

    <!-- Ion icons scripts starts -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <!-- Ion icons scripts ends -->

    <!-- page script starts -->
    <script type="module">
      import { addDateTimeToNavbar } from "../../modules/addDateTimeToNavbar.js";
      import initSearch from "../../modules/homepage/search.js";
      import initFilters from "../../modules/search-results-page/filters.js";
      import initLanguageFilter from "../../modules/search-results-page/language-filter.js";
      import { addSearchTextToDom } from "../../modules/search-results-page/search-bar.js";
      import { initSearchResults } from "../../modules/search-results-page/search-results.js";
      import initPaginaiton from "../../modules/search-results-page/pagination.js";

      async function init() {
        // Add date and time to navbar
        addDateTimeToNavbar();

        // Initialize search functionality
        initSearch();

        // Initialize filters
        initFilters();

        // Initialize language filters
        initLanguageFilter();

        // Add search text to dom
        addSearchTextToDom();

        // Initialize search results
        await initSearchResults();

        // Initialize pagination
        initPaginaiton();
      }

      init();
    </script>
  </body>
</html>
